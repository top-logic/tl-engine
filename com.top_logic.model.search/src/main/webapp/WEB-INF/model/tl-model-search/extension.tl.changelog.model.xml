<?xml version="1.0" encoding="utf-8" ?>

<model xmlns="http://www.top-logic.com/ns/dynamic-types/6.0">
	<module name="tl.changelog">
		<class name="Change">
			<attributes>
				<reference name="changeType"
					kind="forwards"
					mandatory="true"
					navigate="true"
					type="ChangeType"
				>
					<annotations>
						<storage-algorithm>
							<query>
								<expr><![CDATA[self -> switch ($self.type()) {
    `tl.changelog:Creation`: `tl.changelog:ChangeType#CREATE`;
    `tl.changelog:Deletion`: `tl.changelog:ChangeType#DELETE`;
    `tl.changelog:Update`: `tl.changelog:ChangeType#UPDATE`;
}]]></expr>
							</query>
						</storage-algorithm>
					</annotations>
				</reference>
			</attributes>
		</class>
	</module>
</model>