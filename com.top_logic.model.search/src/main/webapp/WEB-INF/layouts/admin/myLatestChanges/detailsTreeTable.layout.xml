<?xml version="1.0" encoding="utf-8" ?>

<config:template-call
	xmlns:config="http://www.top-logic.com/ns/config/6.0"
	template="com.top_logic/treetable.template.xml"
>
	<arguments
		defaultColumns="changeType,ID_2069dcc3_1d7f_4899_bcae_89ea51c834a3,newValue,oldValue"
		model="selection(admin/myLatestChanges/lastChangesTable.layout.xml#Table)"
		rootVisible="false"
		type="tl.changelog:Change,tl.changelog:ChangeSet,tl.changelog:Modification"
	>
		<name key="dynamic.ca8938f4-77bb-437a-bc56-31a627dc69f0">
			<en>Details</en>
			<de>Details</de>
		</name>
		<modelBuilder class="com.top_logic.model.search.providers.TreeModelByExpression"
			nodePredicate="node->$node.instanceOf(`tl.changelog:ChangeSet`)"
			parents="node->$node.referers(`tl.changelog:ChangeSet#changes`)"
			rootNode="model -> $model"
		>
			<children><![CDATA[node->switch {
    $node.instanceOf(`tl.changelog:ChangeSet`): 
        $node.get(`tl.changelog:ChangeSet#changes`);
    $node.instanceOf(`tl.changelog:Update`): 
        $node.get(`tl.changelog:Update#modifications`);
}]]></children>
		</modelBuilder>
		<configurationProviders>
			<configurationProvider class="com.top_logic.model.search.providers.ComputedColumnProviderByExpression"
				columnId="ID_2069dcc3_1d7f_4899_bcae_89ea51c834a3"
				columnType="tl.model:TLModelPart"
			>
				<columnLabel key="dynamic.2b5c8e82-c3d9-492b-8d32-13f75cb52752">
					<en>Changed</en>
					<de>GeÃ¤ndert</de>
				</columnLabel>
				<accessor><![CDATA[row -> switch {
    $row.instanceOf(`tl.changelog:Change`): 
        $row.get(`tl.changelog:Change#object`);
    $row.instanceOf(`tl.changelog:Modification`): 
        $row.get(`tl.changelog:Modification#part`);
}]]></accessor>
			</configurationProvider>
			<id-column value="ID_2069dcc3_1d7f_4899_bcae_89ea51c834a3"/>
		</configurationProviders>
	</arguments>
</config:template-call>